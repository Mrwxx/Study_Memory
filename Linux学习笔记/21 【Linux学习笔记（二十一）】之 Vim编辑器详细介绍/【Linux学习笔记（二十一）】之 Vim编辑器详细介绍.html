<!DOCTYPE html>
<html>

<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>【Linux学习笔记（二十一）】之 Vim编辑器详细介绍</title>
  <link rel="stylesheet" href="https://stackedit.io/style.css" />
</head>

<body class="stackedit">
  <div class="stackedit__html"><h2><a id="_0"></a>本文章由公号【开发小鸽】发布！欢迎关注！！！</h2>
<br>
<p><strong>老规矩–妹妹镇楼：</strong></p>
<center>
<img src="https://img-blog.csdnimg.cn/20200721223424816.JPG" width="20%">
</center><h2><a id="%09vim_7"></a>一．	vim编辑器</h2>
<h3><a id="%09_9"></a>（一）	概述</h3>
<p>&nbsp;  &nbsp;  &nbsp;  &nbsp;vim是vi编辑器的加强版，是一个纯文本编辑器，能够显示不同文件的颜色，帮助开发者辨别输入错误。可以添加别名，将vi设置为vim，添加到环境变量配置文件~/.bashrc中，永久生效。</p>
<pre><code class="prism language-cpp">alias vi<span class="token operator">=</span>’vim’
</code></pre>
<br>
<h3><a id="%09vim_18"></a>（二）	vim三种工作模式</h3>
<h4><a id="1%09_20"></a>1.	三种模式的关系</h4>
<p><img src="https://img-blog.csdnimg.cn/20201222170152266.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L01yd3h4eHg=,size_16,color_FFFFFF,t_70" alt="在这里插入图片描述"></p>
<br>
<h4><a id="2%09_28"></a>2.	输入模式</h4>
<p>&nbsp;  &nbsp;  &nbsp;  &nbsp;用于文本编辑，输入数据。在进入输入模式时有以下的命令：</p>
<h5><a id="1%09a_31"></a>（1）	a</h5>
<p>&nbsp;  &nbsp;  &nbsp;  &nbsp;在光标所在字符后插入<br>
<br></p>
<h5><a id="2%09A_37"></a>（2）	A</h5>
<p>&nbsp;  &nbsp;  &nbsp;  &nbsp;在光标所在行尾插入</p>
<br>
<h5><a id="3%09i_43"></a>（3）	i</h5>
<p>&nbsp;  &nbsp;  &nbsp;  &nbsp;在光标所在字符前插入<br>
<br></p>
<h5><a id="4%09I_49"></a>（4）	I</h5>
<p>&nbsp;  &nbsp;  &nbsp;  &nbsp;在光标所在行首插入<br>
<br></p>
<h5><a id="5%09o_55"></a>（5）	o</h5>
<p>&nbsp;  &nbsp;  &nbsp;  &nbsp;在光标下插入新行<br>
<br></p>
<h5><a id="6%09O_61"></a>（6）	O</h5>
<p>&nbsp;  &nbsp;  &nbsp;  &nbsp;在光标上插入新行。<br>
<br></p>
<h4><a id="3%09_67"></a>3.	编辑模式</h4>
<h5><a id="1%09w__69"></a>（1）	:w 新文件名</h5>
<p>&nbsp;  &nbsp;  &nbsp;  &nbsp;保存不退出，后面添加文件名表示另存为新的文件。<br>
<br></p>
<h5><a id="2%09q_75"></a>（2）	:q</h5>
<p>&nbsp;  &nbsp;  &nbsp;  &nbsp;不保存退出。<br>
<br></p>
<h5><a id="3%09wq_81"></a>（3）	:wq</h5>
<p>&nbsp;  &nbsp;  &nbsp;  &nbsp;保存退出。</p>
<br>
<h5><a id="4%09_87"></a>（4）	:!</h5>
<p>&nbsp;  &nbsp;  &nbsp;  &nbsp;表示强制。如q!，表示强制不保存退出，用于修改文件后不想保存的情况。</p>
<p>&nbsp;  &nbsp;  &nbsp;  &nbsp;如wq!，强制保存退出，只有文件的所有者或root用户，对文件没有写权限时，强制写入数据使用。<br>
<br></p>
<h4><a id="4%09_95"></a>4.	命令模式</h4>
<h5><a id="1%09_97"></a>（1）	移动光标</h5>
<p>&nbsp;  &nbsp;  &nbsp;  &nbsp;HJKL，在键盘上是从左到右的方向。H是左移，J是下移，K是上移，L是右移。当然，也可以使用方向键移动。</p>
<pre><code class="prism language-cpp">gg：移动到文件头
G： 移动到文件尾
</code></pre>
<pre><code class="prism language-cpp"><span class="token operator">^</span><span class="token operator">:</span>  移动到行首
$<span class="token operator">:</span>  移动到行尾
</code></pre>
<pre><code class="prism language-cpp"><span class="token operator">:</span>n <span class="token operator">:</span> n是数字，表示移动到第几行
</code></pre>
<br>
<h5><a id="2%09_118"></a>（2）	删除或剪切</h5>
<p>&nbsp;  &nbsp;  &nbsp;  &nbsp;删除也可以用于剪切，因为内容已经放到剪切板中了。</p>
<pre><code class="prism language-cpp">x<span class="token operator">:</span> 删除单个字母
nx<span class="token operator">:</span> 删除n个字母，n是数字
</code></pre>
<pre><code class="prism language-cpp">dd<span class="token operator">:</span> 删除整行
ndd<span class="token operator">:</span> 删除多行
<span class="token operator">:</span>n1<span class="token punctuation">,</span>n2d<span class="token operator">:</span> 删除指定范围的行，n1，n2都是行数
dG<span class="token operator">:</span> 从光标所在行删除到文件尾
</code></pre>
<pre><code class="prism language-cpp">p<span class="token operator">:</span> 粘贴到光标后
P（大写）<span class="token operator">:</span> 粘贴到光标前
</code></pre>
<br>
<h5><a id="3%09_141"></a>（3）	复制</h5>
<pre><code class="prism language-cpp">yy： 复制单行
nyy<span class="token operator">:</span> 复制多行
</code></pre>
<br>
<h5><a id="4%09_151"></a>（4）	撤销</h5>
<pre><code class="prism language-cpp">u<span class="token operator">:</span> 撤销，可以一直撤销到文件打开时的状态
ctrl<span class="token operator">+</span>r<span class="token operator">:</span> 反撤销
</code></pre>
<br>
<h5><a id="5%09_161"></a>（5）	替换</h5>
<pre><code class="prism language-cpp">r<span class="token operator">:</span> 替换光标处的字符
R<span class="token operator">:</span> 从光标所在处开始替换字符，按ESC结束
</code></pre>
<br>
<h5><a id="6%09vim_171"></a>（6）	vim配置文件</h5>
<p>&nbsp;  &nbsp;  &nbsp;  &nbsp;下面的参数设置，多数需要在vim中配置才能够永久生效。</p>
<p>显示行号</p>
<pre><code class="prism language-cpp"><span class="token operator">:</span>set nu
<span class="token operator">:</span>set nonu 
</code></pre>
<p>显示颜色帮助</p>
<pre><code class="prism language-cpp"><span class="token operator">:</span>syntax on
<span class="token operator">:</span>syntax off
</code></pre>
<p>查找字符串高亮显示</p>
<pre><code class="prism language-cpp"><span class="token operator">:</span>set hlsearch
<span class="token operator">:</span>set nohlsearch
</code></pre>
<p>设置右下角的状态栏</p>
<pre><code class="prism language-cpp"><span class="token operator">:</span>set ruler
<span class="token operator">:</span>set noruler
</code></pre>
<p>设置左下角显示模式的状态栏</p>
<pre><code class="prism language-cpp"><span class="token operator">:</span>set showmode
<span class="token operator">:</span>set noshowmode
</code></pre>
<p>设置是否显示隐藏字符，如Tab键使用”^I”， 回车键使用”$”。</p>
<pre><code class="prism language-cpp"><span class="token operator">:</span>set list
<span class="token operator">:</span>set nolist
</code></pre>
<p>&nbsp;  &nbsp;  &nbsp;  &nbsp;这些参数设置都需要写入到vim的配置文件~/.vimrc中，才能够永久生效。</p>
<p>&nbsp;  &nbsp;  &nbsp;  &nbsp;当我们将Windows下的文本文件传入Linux中时，由于Windows中的回车是”^M$”，与Linux中的大为不同，会导致在Linux中无法运行。我们可以通过命令”dos2unix”转换，也可以通过”unix2dos”转换为Windows格式。<br>
<br></p>
<h5><a id="7%09_223"></a>（7）	查找</h5>
<pre><code class="prism language-cpp"><span class="token operator">/</span>查找内容 ： 从光标所在行向下查找
<span class="token operator">?</span>查找内容 ： 从光标所在行向上查找
n<span class="token operator">:</span>  下一个
N<span class="token operator">:</span>  上一个
</code></pre>
<br>
<h5><a id="8%09_235"></a>（8）	替换</h5>
<pre><code class="prism language-cpp"><span class="token operator">:</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">10</span>s<span class="token operator">/</span>old<span class="token operator">/</span><span class="token keyword">new</span><span class="token operator">/</span>g <span class="token operator">:</span> 替换<span class="token number">1</span>到<span class="token number">10</span>行中的所有old为<span class="token keyword">new</span>
<span class="token operator">:</span><span class="token operator">%</span>s<span class="token operator">/</span>old<span class="token operator">/</span><span class="token keyword">new</span><span class="token operator">/</span>g <span class="token operator">:</span> 替换整个文件的old为<span class="token keyword">new</span>
</code></pre>
<p>如注释文件的前10行，使用正则表达式^作为开头：</p>
<pre><code class="prism language-cpp"><span class="token operator">:</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">10</span>s<span class="token operator">/</span><span class="token operator">^</span><span class="token operator">/</span>#<span class="token operator">/</span>g
</code></pre>
<p>取消注释：</p>
<pre><code class="prism language-cpp"><span class="token operator">:</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">10</span>s<span class="token operator">/</span><span class="token operator">^</span>#<span class="token comment">//g</span>
</code></pre>
<p>&nbsp;  &nbsp;  &nbsp;  &nbsp;当要替换“/”符号时，需要在它前面添加转移符\，因此如果要在文件的前10行添加//，如下所示：</p>
<pre><code class="prism language-cpp"><span class="token operator">:</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">10</span>s<span class="token operator">/</span><span class="token operator">^</span><span class="token operator">/</span>\<span class="token operator">/</span>\<span class="token operator">/</span><span class="token operator">/</span>g
</code></pre>
<br>
<h3><a id="%09Vim_263"></a>（三）	Vim导入其他文件内容或命令内容</h3>
<h4><a id="1%09_265"></a>1.	导入其他文件内容</h4>
<pre><code class="prism language-cpp"><span class="token operator">:</span>r 文件名
</code></pre>
<p>&nbsp;  &nbsp;  &nbsp;  &nbsp;将其他文件内容导入光标所在位置</p>
<br>
<h4><a id="2%09VIM_276"></a>2.	在VIM中执行系统命令</h4>
<pre><code class="prism language-cpp"><span class="token operator">:</span><span class="token operator">!</span>命令
</code></pre>
<br>
<h4><a id="3%09_285"></a>3.	导入命令结果</h4>
<pre><code class="prism language-cpp"><span class="token operator">:</span>r <span class="token operator">!</span>命令
</code></pre>
<p>&nbsp;  &nbsp;  &nbsp;  &nbsp;将命令结果导入光标所在行<br>
<br></p>
<h3><a id="%09_296"></a>（四）	设定快捷键</h3>
<pre><code class="prism language-cpp"><span class="token operator">:</span>map 快捷键 执行的命令
</code></pre>
<p>&nbsp;  &nbsp;  &nbsp;  &nbsp;按 CTRL+p 时， 在行首加入注释</p>
<pre><code class="prism language-cpp"><span class="token operator">:</span>map <span class="token operator">^</span>p I#<span class="token operator">&lt;</span>ESC<span class="token operator">&gt;</span>
</code></pre>
<p>&nbsp;  &nbsp;  &nbsp;  &nbsp;注意：^p快捷键不能手动输入，需要输入Ctrl+v+p。</p>
<br>
<h3><a id="%09_313"></a>（五）	字符替换</h3>
<p>&nbsp;  &nbsp;  &nbsp;  &nbsp;当我们输入一个长字符串的次数较多时，可以用一个简单的字符串替换</p>
<pre><code class="prism language-cpp"><span class="token operator">:</span>ab 源字符 替换的字符
</code></pre>
<pre><code class="prism language-cpp"><span class="token operator">:</span>ab mymail xxxxxxx@qq<span class="token punctuation">.</span>com 
</code></pre>
<br>
<h3><a id="%09_327"></a>（六）	打开多文件</h3>
<p>&nbsp;  &nbsp;  &nbsp;  &nbsp;在vim中可以同时打开两个文件，可以上下显示，也可以左右显示：</p>
<pre><code class="prism language-cpp"><span class="token operator">-</span>o小写，表示上下分屏
<span class="token operator">-</span>O大写，表示左右分屏
vim <span class="token operator">-</span>o a b
vim <span class="token operator">-</span>O a b
</code></pre>
<p>&nbsp;  &nbsp;  &nbsp;  &nbsp;当需要在两个文件中切换时，首先按 CTRL + w，然后按左右箭头或者上下箭头即可切换。</p>
</div>
</body>

</html>
