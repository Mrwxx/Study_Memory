<!DOCTYPE html>
<html>

<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>【Java学习笔记（二十一）】之Mysql启动与登录，SQL语句详细介绍</title>
  <link rel="stylesheet" href="https://stackedit.io/style.css" />
</head>

<body class="stackedit">
  <div class="stackedit__html"><h2><a id="_0"></a>本文章由公号【开发小鸽】发布！欢迎关注！！！</h2>
<br>
<p><strong>老规矩–妹妹镇楼：</strong></p>
<center>
<img src="https://img-blog.csdnimg.cn/20200721223424816.JPG" width="20%">
</center><br>
<h2><a id="%09Mysql_9"></a>一．	Mysql服务的启动与停止</h2>
<h3><a id="%09Mysql_10"></a>（一）	Mysql服务的启动</h3>
<p>&nbsp;  &nbsp;  &nbsp;  &nbsp;可以通过cmd输入services.msc打开服务的窗口，手动停止Mysql的服务，也可以用命令的方式：</p>
<p>&nbsp;  &nbsp;  &nbsp;  &nbsp;首先通过管理员权限打开DOS命令窗口，输入以下命令启动Mysql服务：</p>
<pre><code class="prism language-cpp">net start mysql
</code></pre>
<br>
<h3><a id="%09Mysql_20"></a>（二）	Mysql服务的停止</h3>
<p>&nbsp;  &nbsp;  &nbsp;  &nbsp;输入以下命令停止Mysql服务：</p>
<pre><code class="prism language-cpp">net stop mysql
</code></pre>
<br>
<h2><a id="%09Mysql_29"></a>二．	Mysql的登陆与退出</h2>
<h3><a id="%09Mysql_30"></a>（一）	Mysql的登陆</h3>
<br>
<p>登陆格式1：</p>
<pre><code class="prism language-cpp">mysql <span class="token operator">-</span>uroot <span class="token operator">-</span>proot
</code></pre>
<p>&nbsp;  &nbsp;  &nbsp;  &nbsp;-u代表着用户名，-p代表着密码。<br>
<br></p>
<p>登陆格式2：</p>
<pre><code class="prism language-cpp">mysql <span class="token operator">-</span>uroot <span class="token operator">-</span>p
</code></pre>
<p>&nbsp;  &nbsp;  &nbsp;  &nbsp;之后会让你输入密码，但密码不会明文显示<br>
<br></p>
<p>登录格式3：</p>
<pre><code class="prism language-cpp">mysql <span class="token operator">-</span>hip地址 <span class="token operator">-</span>u用户名 <span class="token operator">-</span>p密码
</code></pre>
<p>&nbsp;  &nbsp;  &nbsp;  &nbsp;连接到某个ip地址的Mysql数据库中<br>
<br></p>
<p>登陆格式4：</p>
<pre><code class="prism language-cpp">mysql –host<span class="token operator">=</span>ip地址 –user<span class="token operator">=</span>用户名 –password<span class="token operator">=</span>密码
</code></pre>
<br>
<h3><a id="%09Mysql_68"></a>（二）	Mysql的退出</h3>
<p>&nbsp;  &nbsp;  &nbsp;  &nbsp;输入 quit或者exit即可退出。</p>
<br>
<h2><a id="%09_73"></a>三．	数据库管理系统</h2>
<h3><a id="%09_74"></a>（一）	概述</h3>
<p>&nbsp;  &nbsp;  &nbsp;  &nbsp;数据库管理系统（DataBase Management System, DBMS），是一种操作和管理数据库的大型软件，用于建立，使用和维护数据库。用户通过数据库管理系统访问数据库中表内的数据。<br>
<br></p>
<h3><a id="%09DBMS_78"></a>（二）	DBMS，数据库，表的关系</h3>
<p>&nbsp;  &nbsp;  &nbsp;  &nbsp;DBMS可以管理多个数据库，一般一个应用对应一个数据库，一个数据库中有多个表，每个表中有多条数据。</p>
<br>
<h2><a id="%09SQL_83"></a>四．	SQL</h2>
<h3><a id="%09_84"></a>（一）	概述</h3>
<p>&nbsp;  &nbsp;  &nbsp;  &nbsp;SQL全名为Structured Query Language，结构化查询语言，用于在数据库中进行操作。<br>
<br></p>
<h3><a id="%09SQL_88"></a>（二）	SQL用途</h3>
<p>&nbsp;  &nbsp;  &nbsp;  &nbsp;SQL是所有关系型数据库的查询规范，是一种通用的数据库操作语言，但是不同的数据库的SQL语言依然有些区别。<br>
<br></p>
<h3><a id="%09SQL_92"></a>（三）	SQL语句的分类</h3>
<br>
<ol>
<li>
<p>Data Definition Language(DDL)，数据定义语言，用于操作数据库和表。</p>
</li>
<li>
<p>Data Manipulation Language(DML)，数据操纵语言，用于对表中的数据增删改。</p>
</li>
<li>
<p>Data Query Language(DQL)，数据查询语言，用于对表中的数据查询。</p>
</li>
<li>
<p>Data Control Language(DCL)，数据控制语言，用于设置用户权限。<br>
<br></p>
</li>
</ol>
<h3><a id="%09SQL_104"></a>（四）	SQL的语法</h3>
<br>
<ol>
<li>
<p>每条语句以分号结尾</p>
</li>
<li>
<p>SQL中不区分大小写，建议关键字用大写</p>
</li>
<li>
<p>3种注释：</p>
</li>
</ol>
<pre><code class="prism language-cpp">单行注释： <span class="token operator">--</span>空格
多行注释： <span class="token comment">/* */</span>
Mysql中单行注释：#
</code></pre>
<br>
<h2><a id="%09DDL_121"></a>五．	DDL（数据定义语言）</h2>
<br>
<h3><a id="%09CURD_124"></a>（一）	操作数据库（CURD）</h3>
<br>
<p>&nbsp;  &nbsp;  &nbsp;  &nbsp;操作数据库一般由增删改查四种操作，增是C(Create)，创建；U是（Updata），修改；R是Retrieve，查询；D是Delete，删除。接下来依次介绍四种操作数据库的方式。<br>
<br></p>
<h4><a id="1%09Create_130"></a>1.	增（Create）</h4>
<br>
<h5><a id="1%09_133"></a>（1）	创建数据库</h5>
<pre><code class="prism language-cpp">CREATE DATABASE 数据库名称；
</code></pre>
<br>
<h5><a id="2%09_140"></a>（2）	先判断是否存在，再创建数据库</h5>
<pre><code class="prism language-cpp">CREATE DATABASE IF NOT EXISTS 数据库名称；
</code></pre>
<br>
<h5><a id="3%09_147"></a>（3）	创建数据库并制定使用的字符集</h5>
<pre><code class="prism language-cpp">CREATE DATABASE 数据库名称 CHARACTER SET gbk；
</code></pre>
<br>
<h4><a id="2%09Retrieve_155"></a>2.	查（Retrieve）</h4>
<p>&nbsp;  &nbsp;  &nbsp;  &nbsp;查询数据库的信息<br>
<br></p>
<h5><a id="1%09_159"></a>（1）	查询所有数据库的名称</h5>
<pre><code class="prism language-cpp">SHOW DATABASES<span class="token punctuation">;</span>
</code></pre>
<br>
<h5><a id="2%09_166"></a>（2）	查询某个数据库的创建语句或字符集</h5>
<pre><code class="prism language-cpp">SHOW CREATE DATABASE 数据库名称；
</code></pre>
<br>
<h4><a id="3%09Updata_173"></a>3.	改（Updata）</h4>
<h5><a id="1%09_174"></a>（1）	修改数据库的字符集</h5>
<pre><code class="prism language-cpp">ALTER DATABASE 数据库名称 CHARACTER SET 字符集名称；
</code></pre>
<br>
<h4><a id="4%09Delete_181"></a>4.	删（Delete）</h4>
<h5><a id="1%09_182"></a>（1）	删除数据库</h5>
<pre><code class="prism language-cpp">DROP DATABASE 数据库名称；
</code></pre>
<br>
<h5><a id="2%09_189"></a>（2）	判断是否存在，再删除</h5>
<pre><code class="prism language-cpp">DROP DATABASE IF EXISTS 数据库名称；
</code></pre>
<br>
<h4><a id="5%09_196"></a>5.	查看当前使用的数据库</h4>
<pre><code class="prism language-cpp">SELECT <span class="token function">DATABASE</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre>
<br>
<h4><a id="6%09_203"></a>6.	进入使用某个数据库</h4>
<pre><code class="prism language-cpp">USE 数据库名；
</code></pre>
<br>
<h3><a id="%09CRUD_211"></a>（二）	操作表（CRUD）</h3>
<p>&nbsp;  &nbsp;  &nbsp;  &nbsp;操作表同样是增删改查。<br>
<br></p>
<h4><a id="1%09CCreate__216"></a>1.	C(Create) 增</h4>
<h5><a id="1%09_217"></a>（1）	创建表</h5>
<pre><code class="prism language-cpp">CREATE TABLE 表名<span class="token punctuation">(</span>
		列名<span class="token number">1</span>，数据类型<span class="token number">1</span>，
		列名<span class="token number">2</span>，数据类型<span class="token number">2</span>，
		…。
<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre>
<p>&nbsp;  &nbsp;  &nbsp;  &nbsp;注意，最后一行，不需要加逗号！<br>
<br></p>
<h5><a id="2%09_230"></a>（2）	数据类型</h5>
<pre><code class="prism language-cpp">整数 ：<span class="token keyword">int</span>
小数：<span class="token keyword">double</span><span class="token punctuation">(</span><span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span> ，表示<span class="token number">5</span>位小数，保留小数点后<span class="token number">2</span>位。
日期：date，只包含年月日，yyyy<span class="token operator">-</span>MM<span class="token operator">-</span>dd
日期：datetime，还包含分秒， yyyy<span class="token operator">-</span>MM<span class="token operator">-</span>dd HH<span class="token operator">:</span>mm<span class="token operator">:</span>ss
时间戳：timestamp，yyyy<span class="token operator">-</span>MM<span class="token operator">-</span>dd HH<span class="token operator">:</span>mm<span class="token operator">:</span>ss
字符串：<span class="token function">varchar</span><span class="token punctuation">(</span><span class="token number">20</span><span class="token punctuation">)</span>，最大<span class="token number">20</span>个字符串
</code></pre>
<br>
<h5><a id="3%09_243"></a>（3）	复制表</h5>
<pre><code class="prism language-cpp">CREATE TABLE 表名 like 被复制的表名
</code></pre>
<br>
<h4><a id="2%09RRetrieve__251"></a>2.	R(Retrieve) 查询</h4>
<h5><a id="1%09_252"></a>（1）	查询某个数据库中的所有表</h5>
<pre><code class="prism language-cpp">SHOW TABLES<span class="token punctuation">;</span>
</code></pre>
<br>
<h5><a id="2%09_259"></a>（2）	查询表的结构</h5>
<pre><code class="prism language-cpp">DESC 表名；
</code></pre>
<br>
<h4><a id="3%09UUpdate__266"></a>3.	U(Update) 改</h4>
<h5><a id="1%09_267"></a>（1）	修改表名</h5>
<pre><code class="prism language-cpp">ALTER TABLE 表名 RENAME TO 新的表名；
</code></pre>
<br>
<h5><a id="2%09_274"></a>（2）	修改表的字符集</h5>
<pre><code class="prism language-cpp">ALTER TABLE 表名 CHARACTER SET 字符集名称；
</code></pre>
<br>
<h5><a id="3%09_281"></a>（3）	添加一列</h5>
<pre><code class="prism language-cpp">ALTER TABLE 表名 ADD 列名 数据类型；
</code></pre>
<br>
<h5><a id="4%09_288"></a>（4）	修改列名，类型</h5>
<pre><code class="prism language-cpp">ALTER TABLE 表名 CHANGE 列名 新列名 新数据类型；
ALTER TABLE 表名 MODIFY 列名 新数据类型；
</code></pre>
<br>
<h5><a id="5%09_296"></a>（5）	删除列</h5>
<pre><code class="prism language-cpp">ALTER TABLE 表名 DROP 列名；
</code></pre>
<p>&nbsp;  &nbsp;  &nbsp;  &nbsp;总这些操作可以看出，修改表的命令首先都是ALTER TABLE 表名，其次跟着具体的操作命令。<br>
<br></p>
<h4><a id="5DDelete_305"></a>5．D（Delete）删</h4>
<pre><code class="prism language-cpp">DROP TABLE 表名；
DROP TALBE IF EXISTS 表名；
</code></pre>
<br>
<h2><a id="%09DML_314"></a>六．	DML（数据操作语言）</h2>
<p>&nbsp;  &nbsp;  &nbsp;  &nbsp;DML用于操作表中的数据，同样是增删改查。<br>
<br></p>
<h3><a id="%09_318"></a>（一）	添加数据</h3>
<pre><code class="prism language-cpp">INSERT INTO 表名（列名<span class="token number">1</span>，列名<span class="token number">2</span>…）VALUES（值<span class="token number">1</span>， 值<span class="token number">2</span>…）；
</code></pre>
<p>&nbsp;  &nbsp;  &nbsp;  &nbsp;如果表名后没有添加列名，则默认给所有列添加值。</p>
<p>&nbsp;  &nbsp;  &nbsp;  &nbsp;除了数字，其他类型都要用引号。<br>
<br></p>
<h3><a id="%09_329"></a>（二）	删除数据</h3>
<pre><code class="prism language-cpp">DELETE FROM 表名  <span class="token punctuation">[</span>WHERE 条件<span class="token punctuation">]</span>；
</code></pre>
<p>&nbsp;  &nbsp;  &nbsp;  &nbsp;若不加条件，则删除表中全部数据。如果需要删除表中所有数据，则使用</p>
<pre><code class="prism language-cpp">TRUNCATE TABLE 表名
</code></pre>
<p>&nbsp;  &nbsp;  &nbsp;  &nbsp;先删除表，再创建一张一样的表。<br>
<br></p>
<h3><a id="%09_344"></a>（三）	修改数据</h3>
<pre><code class="prism language-cpp">UPDATE 表名 SET 列名<span class="token number">1</span><span class="token operator">=</span>值<span class="token number">1</span>， 列名<span class="token number">2</span><span class="token operator">=</span>值<span class="token number">2</span>  WHERE 条件
</code></pre>
<p>&nbsp;  &nbsp;  &nbsp;  &nbsp;若不加条件，则所有记录都会被修改。<br>
<br></p>
<h2><a id="%09DQL_354"></a>七．	DQL（数据查询语言）</h2>
<br>
<p>&nbsp;  &nbsp;  &nbsp;  &nbsp;DQL用于查询表中的数据，<br>
<br></p>
<h3><a id="1%09_360"></a>1.	基础查询</h3>
<h4><a id="1%09_361"></a>（1）	多个字段的查询</h4>
<pre><code class="prism language-cpp">SELECT 字段名<span class="token number">1</span>，字段名<span class="token number">2</span> … FROM 表名；
</code></pre>
<p>&nbsp;  &nbsp;  &nbsp;  &nbsp;若是查询所有字段，使用*。</p>
<pre><code class="prism language-cpp">select <span class="token operator">*</span> from student3<span class="token punctuation">;</span>
select name<span class="token punctuation">,</span>address from student3<span class="token punctuation">;</span>
</code></pre>
<br>
<h4><a id="2%09_375"></a>（2）	计算数值型列</h4>
<p>&nbsp;  &nbsp;  &nbsp;  &nbsp;四则运算直接计算。</p>
<pre><code class="prism language-cpp"><span class="token function">Ifnull</span><span class="token punctuation">(</span>表达式<span class="token number">1</span>，表达式<span class="token number">2</span><span class="token punctuation">)</span>
</code></pre>
<p>&nbsp;  &nbsp;  &nbsp;  &nbsp;ifnull（）判断表达式1是否为null，如果是，替换为表达式2.<br>
<br></p>
<h4><a id="3%09_385"></a>（3）	去除重复</h4>
<p>Distinct</p>
<pre><code class="prism language-cpp">select distinct address from student3<span class="token punctuation">;</span>
</code></pre>
<br>
<h4><a id="4%09_393"></a>（4）	起别名</h4>
<p>&nbsp;  &nbsp;  &nbsp;  &nbsp;直接在字段名添加AS 别名，或者不加AS也可以。</p>
<pre><code class="prism language-cpp">select name<span class="token punctuation">,</span> math 数学<span class="token punctuation">,</span> english 英语<span class="token punctuation">,</span> math<span class="token operator">+</span><span class="token function">ifnull</span><span class="token punctuation">(</span>english<span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">)</span> 总分 from student3<span class="token punctuation">;</span>
</code></pre>
<br>
<h3><a id="2%09_401"></a>2.	条件查询</h3>
<p>&nbsp;  &nbsp;  &nbsp;  &nbsp;在WHERE子句后面加条件，条件运算符如下：</p>
<h4><a id="1%09_403"></a>（1）	比较运算符</h4>
<br>

<table>
<thead>
<tr>
<th>比较运算符</th>
<th>说明</th>
</tr>
</thead>
<tbody>
<tr>
<td>&gt; 、&lt; 、&lt;= 、&gt;= 、= 、&lt;&gt;  &lt;&gt;</td>
<td>在 SQL 中表示不等于，在 mysql 中也可以使用!=，没有==</td>
</tr>
<tr>
<td>BETWEEN…AND</td>
<td>在一个范围之内，如：between 100 and 200相当于条件在 100 到 200 之间，包头又包尾</td>
</tr>
<tr>
<td>IN( 集合)</td>
<td>集合表示多个值，使用逗号分隔</td>
</tr>
<tr>
<td>LIKE ’ 张%’</td>
<td>模糊查询，</td>
</tr>
<tr>
<td>IS NULL</td>
<td>查询某一列为 NULL 的值，注：不能写=NULL</td>
</tr>
</tbody>
</table><p>LIKE模糊查询：</p>
<p>&nbsp;  &nbsp;  &nbsp;  &nbsp;通配符 % : 匹配多个字符</p>
<p>&nbsp;  &nbsp;  &nbsp;  &nbsp;通配符 _ : 匹配一个字符</p>
<p>匹配王姓学生：</p>
<pre><code class="prism language-cpp">SELECT <span class="token operator">*</span> FROM student WHERE name LIKE ‘王<span class="token operator">%</span>’<span class="token punctuation">;</span>
</code></pre>
<p>匹配姓名第二个字为王</p>
<pre><code class="prism language-cpp">SELECT <span class="token operator">*</span> FROM student WHERE name LIKE ‘_王<span class="token operator">%</span>’<span class="token punctuation">;</span>
</code></pre>
<br>
<h4><a id="2%09_435"></a>（2）	逻辑运算符</h4>
<br>

<table>
<thead>
<tr>
<th>逻辑运算符</th>
<th>说明</th>
</tr>
</thead>
<tbody>
<tr>
<td>and  或 &amp;&amp;</td>
<td>与，SQL 中建议使用前者，后者并不通用。</td>
</tr>
<tr>
<td>or  或</td>
<td>或</td>
</tr>
<tr>
<td>not  或 !</td>
<td>非</td>
</tr>
</tbody>
</table><br>
<h3><a id="3%09_446"></a>3.	排序查询</h3>
<p>&nbsp;  &nbsp;  &nbsp;  &nbsp;将数据按照某种顺序排列</p>
<h4><a id="1_448"></a>（1）语法</h4>
<pre><code class="prism language-cpp">ORDER BY  排序字段<span class="token number">1</span> 排序方式<span class="token number">1</span>， 排序字段<span class="token number">2</span> 排序方式<span class="token number">2</span>
</code></pre>
<br>
<h4><a id="2_455"></a>（2）排序方式</h4>
<pre><code class="prism language-cpp">ASC：默认升序
DESC：降序
</code></pre>
<p>&nbsp;  &nbsp;  &nbsp;  &nbsp;多个排序条件，当前面条件值相同时，才会判断第二条件<br>
<br></p>
<p>按数学成绩升序排列：</p>
<pre><code class="prism language-cpp">select <span class="token operator">*</span> from student3 order by math<span class="token punctuation">;</span>
</code></pre>
<p>先按数学升序排列，当数学相同时，按英语的升序排列：</p>
<pre><code class="prism language-cpp">select <span class="token operator">*</span> from student3 order by math asc<span class="token punctuation">,</span> english asc<span class="token punctuation">;</span>
</code></pre>
<br>
<h3><a id="4%09_481"></a>4.	聚合函数</h3>
<p>&nbsp;  &nbsp;  &nbsp;  &nbsp;将一列数据作为整体，进行纵向的计算。</p>
<h4><a id="1%09count_483"></a>（1）	count</h4>
<p>&nbsp;  &nbsp;  &nbsp;  &nbsp;计算数据的个数，一般选择非空的列（主键）</p>
<pre><code class="prism language-cpp">select <span class="token function">count</span><span class="token punctuation">(</span>math<span class="token punctuation">)</span> from student3<span class="token punctuation">;</span>
</code></pre>
<br>
<h4><a id="2%09max_491"></a>（2）	max</h4>
<p>&nbsp;  &nbsp;  &nbsp;  &nbsp;计算最大值<br>
<br></p>
<h4><a id="3%09min_495"></a>（3）	min</h4>
<p>&nbsp;  &nbsp;  &nbsp;  &nbsp;计算最小值<br>
<br></p>
<h4><a id="4%09sum_499"></a>（4）	sum</h4>
<p>&nbsp;  &nbsp;  &nbsp;  &nbsp;计算数据的和<br>
<br></p>
<h4><a id="5%09avg_503"></a>（5）	avg</h4>
<p>&nbsp;  &nbsp;  &nbsp;  &nbsp;计算数据的均值</p>
<p>&nbsp;  &nbsp;  &nbsp;  &nbsp;聚合函数忽略null值，因此尽量选择非空的列进行计算或者使用ifnull()函数。<br>
<br></p>
<h3><a id="5%09_509"></a>5.	分组查询</h3>
<h4><a id="1ORDER_BY_510"></a>（1）ORDER BY</h4>
<p>&nbsp;  &nbsp;  &nbsp;  &nbsp;分组查询是指使用 GROUP BY  语句对查询信息进行分组，相同数据作为一组</p>
<pre><code class="prism language-sql"><span class="token keyword">SELECT</span>  字段 <span class="token number">1</span><span class="token punctuation">,</span> 字段 <span class="token number">2.</span><span class="token punctuation">.</span><span class="token punctuation">.</span> <span class="token keyword">FROM</span>  表名 <span class="token keyword">GROUP</span> <span class="token keyword">BY</span>  分组字段；
</code></pre>
<pre><code class="prism language-sql"><span class="token keyword">select</span> sex<span class="token punctuation">,</span> <span class="token function">avg</span><span class="token punctuation">(</span>math<span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token function">count</span><span class="token punctuation">(</span>id<span class="token punctuation">)</span> <span class="token keyword">from</span> student3 <span class="token keyword">group</span> <span class="token keyword">by</span> sex<span class="token punctuation">;</span>
</code></pre>
<br>
<h4><a id="2_522"></a>（2）添加条件</h4>
<p>&nbsp;  &nbsp;  &nbsp;  &nbsp;添加WHERE条件和HAVING条件。</p>
<pre><code class="prism language-sql"><span class="token keyword">select</span> sex<span class="token punctuation">,</span> <span class="token function">avg</span><span class="token punctuation">(</span>math<span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token function">count</span><span class="token punctuation">(</span>id<span class="token punctuation">)</span> <span class="token keyword">from</span> student3  <span class="token keyword">where</span> math <span class="token operator">&gt;</span> <span class="token number">70</span> <span class="token keyword">group</span> <span class="token keyword">by</span> sex<span class="token punctuation">;</span>

<span class="token keyword">select</span> sex<span class="token punctuation">,</span> <span class="token function">avg</span><span class="token punctuation">(</span>math<span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token function">count</span><span class="token punctuation">(</span>id<span class="token punctuation">)</span> <span class="token keyword">from</span> student3 <span class="token keyword">where</span> math <span class="token operator">&gt;</span> <span class="token number">70</span> <span class="token keyword">group</span> <span class="token keyword">by</span> sex <span class="token keyword">having</span> <span class="token function">count</span><span class="token punctuation">(</span>id<span class="token punctuation">)</span> <span class="token operator">&gt;</span> <span class="token number">2</span><span class="token punctuation">;</span>
</code></pre>
<p>&nbsp;  &nbsp;  &nbsp;  &nbsp;注意：WHERE语句出现在group by之前，HAVING在group by 之后。<br>
<br></p>
<h4><a id="3WHERE__HAVING_534"></a>（3）WHERE 和 HAVING的区别</h4>
<p>&nbsp;  &nbsp;  &nbsp;  &nbsp;WHERE在分组前进行限定，如果不满足条件则不参加分组，HAVING在分组之后进行限定，如果不满足条件，不会被查询出来。</p>
<p>&nbsp;  &nbsp;  &nbsp;  &nbsp;WHERE后不可以跟聚合函数，HAVING后可以加聚合函数。<br>
<br></p>
<h3><a id="6%09_541"></a>6.	分页查询</h3>
<h4><a id="1%09_542"></a>（1）	语法</h4>
<pre><code class="prism language-sql"><span class="token keyword">limit</span> 开始的索引，每页查询的条数；
</code></pre>
<pre><code class="prism language-sql"><span class="token keyword">SELECT</span> <span class="token operator">*</span><span class="token operator">|</span> 字段列表 <span class="token punctuation">[</span><span class="token keyword">as</span>  别名<span class="token punctuation">]</span> <span class="token keyword">FROM</span>  表名 <span class="token punctuation">[</span><span class="token keyword">WHERE</span>  子句<span class="token punctuation">]</span> <span class="token punctuation">[</span><span class="token keyword">GROUP</span> <span class="token keyword">BY</span>  子句<span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token keyword">HAVING</span>  子句<span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token keyword">ORDER</span> <span class="token keyword">BY</span>  子
句<span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token keyword">LIMIT</span>  子句<span class="token punctuation">]</span><span class="token punctuation">;</span>
</code></pre>
<br>
<h4><a id="2%09_554"></a>（2）	公式</h4>
<p>&nbsp;  &nbsp;  &nbsp;  &nbsp;开始的索引= （当前的页码-1）* 每页查询的条数</p>
<pre><code class="prism language-sql"><span class="token keyword">SELECT</span> <span class="token operator">*</span> <span class="token keyword">FROM</span> student <span class="token keyword">LIMIT</span> <span class="token number">0</span><span class="token punctuation">,</span><span class="token number">3</span> –第一页
</code></pre>
<br>
<h4><a id="3%09_563"></a>（3）	注意</h4>
<p>&nbsp;  &nbsp;  &nbsp;  &nbsp;limit只是Mysql的专有语言</p>
<br>
<h2><a id="%09DCL_570"></a>八．	DCL（数据控制语言）</h2>
<p>&nbsp;  &nbsp;  &nbsp;  &nbsp;DCL用于管理数据库中的用户以及对于用户的授权。<br>
<br></p>
<h3><a id="%09_577"></a>（一）	添加用户</h3>
<pre><code class="prism language-sql"><span class="token keyword">CREATE</span> <span class="token keyword">USER</span> ‘用户名‘@’主机名’ IDENTIFIED <span class="token keyword">BY</span> ‘密码’；
</code></pre>
<br>
<h3><a id="%09_586"></a>（二）	删除用户</h3>
<pre><code class="prism language-sql"><span class="token keyword">DROP</span> <span class="token keyword">USER</span> ‘用户名’@‘主机名’；
</code></pre>
<br>
<h3><a id="%09_595"></a>（三）	查询用户</h3>
<h4><a id="1%09mysql_596"></a>1.	切换到mysql数据库</h4>
<pre><code class="prism language-sql"><span class="token keyword">USE</span> mysql<span class="token punctuation">;</span>
</code></pre>
<br>
<h4><a id="2%09USER_605"></a>2.	查询USER表</h4>
<pre><code class="prism language-sql"><span class="token keyword">SELECT</span> <span class="token operator">*</span> <span class="token keyword">FROM</span> <span class="token keyword">USER</span><span class="token punctuation">;</span>
</code></pre>
<p>&nbsp;  &nbsp;  &nbsp;  &nbsp;通配符%表示任意的意思，用于主机名表示可以在任意主机登录数据库，可以用于创建用户时使用。<br>
如：</p>
<pre><code class="prism language-sql"><span class="token keyword">CREATE</span> <span class="token keyword">USER</span> ‘用户名’@‘<span class="token operator">%</span>’ IDENTIFIED <span class="token keyword">BY</span> ‘密码’；
</code></pre>
<br>
<h3><a id="%09_621"></a>（四）	修改普通用户密码</h3>
<pre><code class="prism language-sql"><span class="token keyword">UPDATE</span> <span class="token keyword">USER</span> <span class="token keyword">SET</span> PASSWORD <span class="token operator">=</span> PASSWORD<span class="token punctuation">(</span>‘新密码’<span class="token punctuation">)</span> <span class="token keyword">WHERE</span> <span class="token keyword">USER</span> <span class="token operator">=</span> ‘用户名’；
</code></pre>
<pre><code class="prism language-sql"><span class="token keyword">SET</span> PASSWORD <span class="token keyword">FOR</span> ‘用户名’@‘主机名’ <span class="token operator">=</span> PASSWORD<span class="token punctuation">(</span>‘新密码’<span class="token punctuation">)</span>；
</code></pre>
<br>
<h3><a id="%09root_634"></a>（五）	修改root用户密码</h3>
<p>&nbsp;  &nbsp;  &nbsp;  &nbsp;在未登录mysql的情况下，打开管理员权限的DOS窗口，输入以下命令：</p>
<pre><code class="prism language-sql">mysqladmin <span class="token operator">-</span>uroot <span class="token operator">-</span>p password
</code></pre>
<p>&nbsp;  &nbsp;  &nbsp;  &nbsp;根据提示，设置新密码<br>
<br></p>
<h3><a id="%09root_646"></a>（六）	忘记root用户密码</h3>
<h4><a id="1%09mysql_647"></a>1.	先停止mysql服务</h4>
<pre><code class="prism language-sql">cmd <span class="token operator">-</span><span class="token operator">&gt;</span> net stop mysql
</code></pre>
<br>
<h4><a id="2%09mysql_656"></a>2.	使用无验证方式启动mysql服务</h4>
<pre><code class="prism language-sql">cmd <span class="token operator">-</span><span class="token operator">&gt;</span> mysqld –skip<span class="token operator">-</span><span class="token keyword">grant</span><span class="token operator">-</span><span class="token keyword">tables</span>
</code></pre>
<br>
<h4><a id="3%09mysql_665"></a>3.	直接mysql登录即可，无需密码</h4>
<br>
<h3><a id="%09_670"></a>（七）	权限管理</h3>
<p>&nbsp;  &nbsp;  &nbsp;  &nbsp;用户被创建后是没有权限的，需要管理员为用户授权。</p>
<h4><a id="1%09_672"></a>1.	查询权限</h4>
<pre><code class="prism language-sql"><span class="token keyword">SHOW</span> GRANTS <span class="token keyword">FOR</span> ‘用户名’@‘主机名’；
<span class="token keyword">SHOW</span> GRANTS <span class="token keyword">FOR</span> ‘LIST’@’<span class="token operator">%</span>’<span class="token punctuation">;</span>
</code></pre>
<br>
<h4><a id="2%09_682"></a>2.	授予权限</h4>
<pre><code class="prism language-sql"><span class="token keyword">GRANT</span> 权限列表 <span class="token keyword">ON</span> 数据库名<span class="token punctuation">.</span>表名 <span class="token keyword">TO</span> ‘用户名’@‘主机名’；

<span class="token keyword">GRANT</span> <span class="token keyword">SELECT</span><span class="token punctuation">,</span>DELECT<span class="token punctuation">,</span> <span class="token keyword">ON</span> db3<span class="token punctuation">.</span>account <span class="token keyword">TO</span> ‘list’@‘<span class="token operator">%</span>’<span class="token punctuation">;</span>
</code></pre>
<p>&nbsp;  &nbsp;  &nbsp;  &nbsp;给用户授予所有权限，在任意数据库任意表中：</p>
<pre><code class="prism language-sql"><span class="token keyword">GRANT</span> <span class="token keyword">ALL</span> <span class="token keyword">ON</span>  <span class="token operator">*</span><span class="token punctuation">.</span><span class="token operator">*</span> <span class="token keyword">TO</span> ‘用户名’@‘表名’；
</code></pre>
<br>
<h4><a id="3%09_699"></a>3.	撤销权限</h4>
<pre><code class="prism language-sql"><span class="token keyword">REVOKE</span> 权限列表 <span class="token keyword">ON</span> 数据库名<span class="token punctuation">.</span>表名 <span class="token keyword">FROM</span> ‘用户名’@‘主机名’；
</code></pre>
</div>
</body>

</html>
