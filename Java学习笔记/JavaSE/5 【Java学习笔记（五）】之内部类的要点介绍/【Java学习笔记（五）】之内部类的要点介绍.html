<!DOCTYPE html>
<html>

<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>【Java学习笔记（五）】之内部类的要点介绍</title>
  <link rel="stylesheet" href="https://stackedit.io/style.css" />
</head>

<body class="stackedit">
  <div class="stackedit__html"><h2><a id="_0"></a>本文章由公号【开发小鸽】发布！欢迎关注！！！</h2>
<br>
<p><strong>老规矩–妹妹镇楼：</strong></p>
<center>
<img src="https://img-blog.csdnimg.cn/20200721223424816.JPG" width="20%">
</center><h2><a id="%09_7"></a>一．	内部类</h2>
<br>
<h3><a id="_10"></a>（一）定义</h3>
<p>&nbsp;  &nbsp;  &nbsp;  &nbsp;<strong>在一个类中定义一个类</strong>，如：在类A中定义一个类B，则该类B就称为<strong>内部类</strong>。</p>
<p><strong>格式</strong>：<br>
<br></p>
<pre><code class="prism language-java"> <span class="token keyword">class</span> 外部类名<span class="token punctuation">{</span>
     修饰符 <span class="token keyword">class</span> 内部类名<span class="token punctuation">{</span>    
       
     <span class="token punctuation">}</span>    
<span class="token punctuation">}</span>
</code></pre>
<br>
<h3><a id="_26"></a>（二）特点</h3>
<br>
<ol>
<li>
<p>内部类可以直接访问外部类的成员，包括私有的外部类成员变量</p>
</li>
<li>
<p>外部类要访问内部类的成员，必须在外部类中创建内部类对象，通过内部类对象来访问内部类的成员。<br>
<br></p>
</li>
</ol>
<h3><a id="_34"></a>（三）分类</h3>
<br>
<ol>
<li>成员内部类</li>
<li>局部内部类</li>
<li>匿名内部类<br>
<br></li>
</ol>
<h2><a id="%09_42"></a>二．	成员内部类</h2>
<br>
<h3><a id="_45"></a>（一）位置</h3>
<br>
<p>&nbsp;  &nbsp;  &nbsp;  &nbsp;内部类定义的位置和外部类的成员变量是一个位置。</p>
<h3><a id="_50"></a>（二）创建成员内部类格式</h3>
<br>
<p>格式：<br>
&nbsp;  &nbsp;  &nbsp;  &nbsp;外部类名 .内部类名 对象名 = 外部类对象.内部类对象;</p>
<p>举例：</p>
<pre><code class="prism language-java"> Outer<span class="token punctuation">.</span>Inner oi <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Outer</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token keyword">new</span> <span class="token class-name">Inner</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre>
<br>
<h3><a id="_63"></a>（三）成员内部类的使用方法</h3>
<br>
<p>&nbsp;  &nbsp;  &nbsp;  &nbsp;<strong>当我们定义一个内部类时，一般是不想外界来访问，因此内部类的定义应该是private</strong>，同时，我们也要留一些退路，给外界一个调用的接口，在外部类中定义调用方法来创建内部类对象并调用。<br>
<br></p>
<h3><a id="_69"></a>（四）示例</h3>
<br>
<pre><code class="prism language-java"><span class="token keyword">class</span> <span class="token class-name">Outer</span> <span class="token punctuation">{</span>
    <span class="token keyword">private</span> <span class="token keyword">int</span> num <span class="token operator">=</span> <span class="token number">10</span>;
    <span class="token keyword">private</span> <span class="token keyword">class</span> <span class="token class-name">Inner</span> <span class="token punctuation">{</span>
        <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">show</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            System<span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>num<span class="token punctuation">)</span>;
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">method</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        Inner i <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Inner</span><span class="token punctuation">(</span><span class="token punctuation">)</span>;
        i<span class="token punctuation">.</span><span class="token function">show</span><span class="token punctuation">(</span><span class="token punctuation">)</span>;
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">InnerDemo</span> <span class="token punctuation">{</span>
    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span>String<span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token punctuation">{</span>
		<span class="token comment">//Outer.Inner oi = new Outer().new Inner();        </span>
		<span class="token comment">//oi.show();        </span>
        Outer o <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Outer</span><span class="token punctuation">(</span><span class="token punctuation">)</span>;
        o<span class="token punctuation">.</span><span class="token function">method</span><span class="token punctuation">(</span><span class="token punctuation">)</span>;
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre>
<br>
<h2><a id="%09_97"></a>三．	局部内部类</h2>
<br>
<h3><a id="%09_100"></a>（一）	位置</h3>
<p>&nbsp;  &nbsp;  &nbsp;  &nbsp;<strong>定义在外部类的成员方法中的内部类。</strong><br>
<br></p>
<h3><a id="%09_105"></a>（二）	创建局部内部类格式</h3>
<p>&nbsp;  &nbsp;  &nbsp;  &nbsp;定义在外部类的成员方法中的局部内部类，外部类是无法直接使用的，<strong>需要在外部类的成员方法中创建内部类对象并使用。</strong><br>
<br></p>
<h3><a id="%09_110"></a>（三）	特点</h3>
<p>&nbsp;  &nbsp;  &nbsp;  &nbsp;局部内部类可以直接访问外部类的成员，也可以访问该局部内部类所在的外部类成员方法中的局部变量。</p>
<br>
### （四）	示例
<pre><code class="prism language-java"><span class="token keyword">class</span> <span class="token class-name">Outer</span> <span class="token punctuation">{</span>
    <span class="token keyword">private</span> <span class="token keyword">int</span> num <span class="token operator">=</span> <span class="token number">10</span>;
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">method</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">int</span> num2 <span class="token operator">=</span> <span class="token number">20</span>;
        <span class="token keyword">class</span> <span class="token class-name">Inner</span> <span class="token punctuation">{</span>
            <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">show</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                System<span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>num<span class="token punctuation">)</span>;
                System<span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>num2<span class="token punctuation">)</span>;
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span>
        Inner i <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Inner</span><span class="token punctuation">(</span><span class="token punctuation">)</span>;
        i<span class="token punctuation">.</span><span class="token function">show</span><span class="token punctuation">(</span><span class="token punctuation">)</span>;
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">OuterDemo</span> <span class="token punctuation">{</span>
    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span>String<span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        Outer o <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Outer</span><span class="token punctuation">(</span><span class="token punctuation">)</span>;
        o<span class="token punctuation">.</span><span class="token function">method</span><span class="token punctuation">(</span><span class="token punctuation">)</span>;
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre>
<br>
<h2><a id="%09_141"></a>四．	匿名内部类</h2>
<br>
<h3><a id="%09_144"></a>（一）	定义</h3>
<p>&nbsp;  &nbsp;  &nbsp;  &nbsp;<strong>本质是一个继承了一个类或者接口的子类匿名对象</strong><br>
<br></p>
<h3><a id="%09_149"></a>（二）	前提</h3>
<p>&nbsp;  &nbsp;  &nbsp;  &nbsp;存在一个类或者接口，这里的类可以是具体类也可以是抽象类<br>
<br></p>
<h3><a id="%09_154"></a>（三）	定义的格式</h3>
<br>
<pre><code class="prism language-java"><span class="token keyword">new</span> 类名<span class="token operator">/</span>接口名<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
		重写方法
<span class="token punctuation">}</span>
</code></pre>
<p>举例：</p>
<pre><code class="prism language-java"><span class="token keyword">new</span> <span class="token class-name">Inter</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">method</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre>
<br>
<h3><a id="%09_173"></a>（四）	匿名内部类的调用方法</h3>
<br>
<p><strong>&nbsp;  &nbsp;  &nbsp;  &nbsp;匿名内部类本质是一个子类匿名对象，因此可以直接通过该对象调用成员方法或者成员对象。</strong></p>
<p>如：</p>
<pre><code class="prism language-java"><span class="token keyword">interface</span> <span class="token class-name">Inter</span><span class="token punctuation">{</span>
    <span class="token keyword">void</span> <span class="token function">method</span><span class="token punctuation">(</span><span class="token punctuation">)</span>;
<span class="token punctuation">}</span>
<span class="token keyword">class</span> <span class="token class-name">Test</span><span class="token punctuation">{</span>
    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span>String<span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token keyword">new</span> <span class="token class-name">Inter</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
            <span class="token annotation punctuation">@Override</span>
            <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">method</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
                System<span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"我是匿名内部类"</span><span class="token punctuation">)</span>;
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span><span class="token punctuation">.</span><span class="token function">method</span><span class="token punctuation">(</span><span class="token punctuation">)</span>; <span class="token comment">// 直接调用方法 </span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre>
<br>
<h3><a id="%09_197"></a>（五）	匿名内部类的应用时机</h3>
<p>&nbsp;  &nbsp;  &nbsp;  &nbsp;<strong>当某个方法需要抽象类或者接口的子类对象时，我们可以传递一个匿名内部类过去，简化一般的方法。即传递的是一个子类匿名对象，重写方法以实现不同的功能。</strong></p>
</div>
</body>

</html>
